import{u as c,r as i,c as h,a as t,d as r,v as p,b as g,w as m,o as f}from"./index-BuUn886y.js";const v=t("h3",null,"Beyond21 Login",-1),_=t("br",null,null,-1),b=t("br",null,null,-1),w=t("button",{class:"loginBtn",type:"submit"},"Login",-1),y=t("br",null,null,-1),L={__name:"Login",setup(k){const a=c(),l=i(""),s=i("");let u=i(null);const d=()=>{fetch("http://localhost:3000/login/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:l.value,password:s.value})}).then(e=>{if(!e.ok)throw new Error("Login failed");return e.json()}).then(e=>{console.log(e.auth),u=e.auth,localStorage.setItem("token",JSON.stringify(u)),a.push("/habits")}).catch(e=>{console.log("Login failed:",e)})};return(e,o)=>(f(),h("div",null,[v,t("form",{id:"loginContainer",onSubmit:m(d,["prevent"])},[r(t("input",{"onUpdate:modelValue":o[0]||(o[0]=n=>l.value=n),type:"text",placeholder:"Email"},null,512),[[p,l.value]]),_,r(t("input",{"onUpdate:modelValue":o[1]||(o[1]=n=>s.value=n),type:"password",placeholder:"Password"},null,512),[[p,s.value]]),b,w,y,t("button",{onClick:o[2]||(o[2]=n=>g(a).push("/signup")),class:"signUpBtn",type:"submit"}," New User Signup ")],32)]))}};export{L as default};
